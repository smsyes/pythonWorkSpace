import pymel.core as pm

# create crv shape
def crvShape_(list_):
    crv_ = pm.curve(d = list_[0], 
                 p = list_[1], 
                 k = list_[2])
    return crv_
    
cube = [1, [(0.5,-0.5,0.5),(0.5,0.5,0.5),(0.5,0.5,-0.5),
(0.5,-0.5,-0.5),(0.5,-0.5,0.5),(-0.5,-0.5,0.5),(-0.5,0.5,0.5),(-0.5,0.5,-0.5),
(-0.5,-0.5,-0.5),(0.5,-0.5,-0.5),(0.5,0.5,-0.5),(-0.5,0.5,-0.5),
(-0.5,-0.5,-0.5),(-0.5,-0.5,0.5),(-0.5,0.5,0.5),(0.5,0.5,0.5)], [0 ,1 ,2 ,3 ,4 ,
5 ,6 ,7 ,8 ,9 ,10 ,11 ,12 ,13 ,14 ,15]]

pin = [1,[(0,0,0),(-1.10596e-06,1.386038,0),(0.192665,1.424866,0),(0.356355,1.533645,0),
(0.465134,1.697335,0),(0.503962,1.89,0),(0.465134,2.082665,0),(0.356355,2.246355,0),
(0.192665,2.355134,0),(-1.10596e-06,2.393962,0),(-0.192663,2.355134,0),
(-0.356359,2.246355,0),(-0.465128,2.082665,0),(-0.504,1.89,0),(-0.465128,1.697335,0),
(-0.356359,1.533645,0),(-0.192663,1.424866,0),(-1.10596e-06,1.386038,0)],
[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]]


sel = pm.ls(sl=1)

# PyMel Dir(dilegtoli) Query
# dir(sel[0].__class__)

# selected object create proxy Attributes
# pm.addAttr(ln='IK_FK', proxy='arm_ik_switch_l.IK_FK')

# selected joint at create curveShape and name match
for i in sel:
    ctrl_ = crvShape_(pin)
    pm.matchTransform(ctrl_,i)
    ctrl_.rename('{0}_ctrl'.format(i.name()))
    print(ctrl_.name())
